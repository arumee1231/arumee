<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Arumee Benefits ‚Äî Premium Cold‚ÄëPressed Oils</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="arumee_assets/cart.css">
<style>
  :root {
    --green: #1e4d32;
    --green-dark: #153d28;
    --gold: #9d7c2a;
    --gold-light: #b8941f;
    --cream: #faf8f5;
    --ink: #0a2817;
  }
  * { box-sizing: border-box; }
  body { 
    margin: 0; 
    font-family: 'Inter', sans-serif; 
    color: var(--ink); 
    background: var(--cream); 
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .container { max-width: 1200px; margin: 0 auto; padding: 60px 4vw 80px; }
  
  /* STICKY NAVIGATION BAR */
  .sticky-nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border-bottom: 1px solid rgba(30, 77, 50, 0.08);
    z-index: 9998;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    display: none; /* Hidden on desktop */
  }
  
  /* Show sticky nav only on mobile */
  @media (max-width: 768px) {
    .sticky-nav {
      display: block;
    }
  }
  .sticky-nav .nav-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 4vw;
    max-width: 1400px;
    margin: 0 auto;
  }
  .sticky-nav .nav-brand {
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: 'Playfair Display', serif;
    font-size: 16px;
    font-weight: 700;
    color: var(--green);
    text-decoration: none;
  }
  .sticky-nav .nav-brand img {
    width: 28px;
    height: 28px;
    border-radius: 6px;
  }
  .sticky-nav .nav-actions {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .sticky-nav .nav-btn {
    padding: 6px 16px;
    border-radius: 20px;
    border: 1.5px solid var(--green);
    background: white;
    color: var(--green);
    font-weight: 600;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }
  .sticky-nav .nav-btn.primary {
    background: var(--green);
    color: white;
    border-color: var(--green);
  }
  .sticky-nav .nav-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(30, 77, 50, 0.15);
  }
  .nav-cart-count {
    background: var(--gold);
    color: white;
    border-radius: 50%;
    min-width: 18px;
    height: 18px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: 700;
    padding: 0 5px;
  }
  
  /* NAVIGATION TABS */
  .hero-tabs-wrapper { 
    position: sticky; 
    top: 0; /* Back to top: 0 for desktop */
    background: linear-gradient(90deg, rgba(14,40,31,0.85), rgba(30,77,50,0.85)); 
    backdrop-filter: blur(14px) saturate(140%); 
    -webkit-backdrop-filter: blur(14px) saturate(140%); 
    border-bottom: 2px solid rgba(157, 124, 42, 0.4); 
    box-shadow: 0 4px 20px -4px rgba(0,0,0,0.35);
    z-index: 1200; 
  }
  
  /* Adjust tab position on mobile to sit below sticky nav */
  @media (max-width: 768px) {
    .hero-tabs-wrapper {
      top: 44px;
    }
  }
  
  .hero-nav { 
    display: flex; 
    justify-content: center; 
    gap: 0; 
    padding: 0; 
    max-width: 1100px;
    margin: 0 auto;
    position: relative;
    padding-bottom: 12px;
    margin-bottom: -12px;
  }
  .hero-nav-tab { 
    padding: 12px 24px; 
    background: rgba(255, 255, 255, 0.07); 
    border-right: 1px solid rgba(255, 255, 255, 0.1); 
    color: rgba(255, 255, 255, 0.9); 
    font-size: 13px; 
    font-weight: 600; 
    transition: all 0.3s ease; 
    text-decoration: none; 
    white-space: nowrap;
  }
  .hero-nav-tab:first-child {
    border-radius: 0;
  }
  .hero-nav-tab:last-child {
    border-right: none;
  }
  .hero-nav-tab:hover { 
    background: rgba(255, 255, 255, 0.12); 
    color: #ffffff; 
  }
  .hero-nav-tab.active { 
    /* stronger active tab styles for clear differentiation */
    background: linear-gradient(180deg, rgba(21,61,40,1), rgba(30,77,50,1));
    color: #fff;
    font-weight: 800;
    position: relative;
    box-shadow: 0 6px 18px rgba(16,45,33,0.18);
  }
  .hero-nav-tab.active::after {
    content: '';
    position: absolute;
    left: 12px;
    right: 12px;
    bottom: -8px;
    height: 4px;
    border-radius: 4px;
    background: linear-gradient(90deg, var(--gold-light), var(--gold));
    box-shadow: 0 4px 12px rgba(157,124,42,0.18);
  }
  .hero-nav-tab:focus {
    outline: 3px solid rgba(157,124,42,0.18);
    outline-offset: 4px;
    border-radius: 6px;
  }
  
  h2 { 
    font-family: 'Playfair Display', serif; 
    font-size: 48px; 
    margin: 0 0 12px; 
    color: var(--green); 
    text-align: center;
    font-weight: 800;
    letter-spacing: -1px;
  }
  p.lead { 
    font-size: 19px; 
    line-height: 1.6; 
    margin: 0 auto 48px; 
    text-align: center;
    max-width: 800px;
    color: #1a4a2f;
    font-weight: 500;
  }
  .grid { display: grid; gap: 24px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
  /* Remove persistent card shadow; reveal on hover (pointer devices) and on keyboard focus */
  .card { 
    background: #fff; 
    border: 2px solid rgba(30,77,50,.1); 
    padding: 24px; 
    border-radius: 20px; 
    box-shadow: none; 
    transition: box-shadow 0.25s ease, transform 0.25s ease; 
  }

  @media (hover: hover) and (pointer: fine) {
    .card:hover {
      transform: translateY(-6px);
      box-shadow: 0 16px 40px rgba(30, 77, 50, 0.15);
      border-color: var(--gold);
    }
  }

  .card:focus-within {
    box-shadow: 0 10px 30px rgba(30,77,50,0.12);
    transform: translateY(-2px);
  }
  .card h3 { margin: 0 0 12px; font-size: 18px; color: var(--green); font-weight: 700; }
  .card p { margin: 0; font-size: 15px; line-height: 1.6; color: #2d4a3e; }
  footer { background:#0f2922; color:#eee; text-align:center; padding:32px 20px; font-size:13px; }
</style>
</head>
<body>
  <nav class="sticky-nav">
    <div class="nav-content">
      <div class="nav-brand">
        <img src="arumee_assets/logo.png" alt="Arumee" width="40" height="40" />
        <span>ARUMEE</span>
      </div>
      <div class="nav-actions">
        <a href="index.html#oils" class="nav-btn">Our Oils</a>
        <button class="nav-btn primary" onclick="console.log('Cart clicked!'); toggleCart();">
          üõí
          <span class="nav-cart-count" id="navCartCount">0</span>
        </button>
      </div>
    </div>
  </nav>

  <div class="hero-tabs-wrapper" role="tablist" aria-label="Primary site sections">
    <nav class="hero-nav">
      <a href="index.html" class="hero-nav-tab" role="tab" aria-selected="false">Our Oils</a>
      <a href="benefits.html" class="hero-nav-tab active" role="tab" aria-selected="true">Benefits</a>
      <a href="about.html" class="hero-nav-tab" role="tab" aria-selected="false">About Us</a>
      <a href="contact.html" class="hero-nav-tab" role="tab" aria-selected="false">Contact Us</a>
    </nav>
  </div>
  <!-- Unified Cart Components -->
  <div id="cartTab" class="cart-tab" role="button" aria-label="Shopping cart" aria-expanded="false" tabindex="0">
    <span class="cart-icon" aria-hidden="true">üõí</span>
    <span class="cart-count" id="cartCount" aria-live="polite">0</span>
  </div>
  <div id="cartDropdown" class="cart-dropdown" role="dialog" aria-modal="true" aria-labelledby="cartHeader" tabindex="-1">
    <div class="cart-header">
      <h3 id="cartHeader"><span>üõí</span> Your Cart</h3>
      <button class="cart-close" type="button" aria-label="Close cart" onclick="toggleCart()">√ó</button>
    </div>
    <div class="cart-content" id="cartContent">
      <p class="empty-cart">Your cart is empty</p>
    </div>
    <div class="cart-footer" id="cartFooter" style="display:none;">
      <div class="cart-total-section">
        <span class="cart-total-label">Total Amount</span>
        <span class="cart-total-amount" id="cartTotal">‚Çπ0</span>
      </div>
      <div class="cart-actions">
        <button class="cart-clear-btn" onclick="clearSubCart()"><span>üóëÔ∏è</span><span>Clear All</span></button>
        <button class="cart-proceed-btn" onclick="proceedToOrder()"><span>Proceed to Order</span><span>‚Üí</span></button>
      </div>
    </div>
  </div>
  <div id="cartBackdrop" class="cart-backdrop" onclick="toggleCart()"></div>
  <main class="container">
    <h2>Benefits</h2>
    <p class="lead">Why choose cold-pressed oils for your everyday wellness</p>

    <div class="grid">
      <div class="card"><h3>Retained Nutrients</h3><p>Low-heat pressing keeps vitamins, antioxidants, and natural aroma intact.</p></div>
      <div class="card"><h3>No Chemicals</h3><p>Pure extraction ‚Äî no bleaching, deodorizing, or solvent use.</p></div>
      <div class="card"><h3>Authentic Flavor</h3><p>Real seed and nut taste that enhances every dish naturally.</p></div>
      <div class="card"><h3>Fresh &amp; Stable</h3><p>Pressed fresh in small runs to preserve purity and freshness.</p></div>
      <div class="card"><h3>Ethical Sourcing</h3><p>Seeds sourced directly from trusted, sustainable farmers.</p></div>
      <div class="card"><h3>Pure &amp; Honest</h3><p>No added colors, fragrances, or preservatives ‚Äî just natural goodness.</p></div>
    </div>
  </main>
  <footer>¬© <span id="year"></span> Arumee‚Ñ¢ ‚Äî Premium Cold‚ÄëPressed Oils</footer>
  <script>
    console.log('Benefits page script starting...');
    document.getElementById('year').textContent=new Date().getFullYear();
    
    let isCartOpen = false;
    let lastCartToggleTime = 0;
    
    // Cart toggle function - COPIED FROM index.html
    window.toggleCart = function toggleCart(event) {
      // Prevent double firing on mobile (touchend then click)
      const now = Date.now();
      if (now - lastCartToggleTime < 300) {
        return; // ignore rapid second invocation
      }
      lastCartToggleTime = now;

      if (event) {
        event.preventDefault();
        event.stopPropagation();
      }

      const cartDropdown = document.getElementById('cartDropdown');
      const backdrop = document.getElementById('cartBackdrop');
      const cartTab = document.getElementById('cartTab');

      isCartOpen = !isCartOpen;

      // Update ARIA attribute
      if (cartTab) {
        cartTab.setAttribute('aria-expanded', isCartOpen);
      }

      if (isCartOpen) {
        if (cartDropdown) cartDropdown.classList.add('open');
        if (backdrop) backdrop.classList.add('visible');
        if (window.matchMedia('(max-width:768px)').matches) { document.body.classList.add('cart-open'); }
        updateCartDisplay();
      } else {
        if (cartDropdown) cartDropdown.classList.remove('open');
        if (backdrop) backdrop.classList.remove('visible');
        if (window.matchMedia('(max-width:768px)').matches) { document.body.classList.remove('cart-open'); }
      }
    };
    
  // Unified cart logic (mirrors main page) ‚Äì legacy floating indicator removed
    let orderItems = [];
    function loadCart(){
      const saved = localStorage.getItem('arumeeCart');
      orderItems = [];
      if(saved){ try { const arr = JSON.parse(saved); if(Array.isArray(arr)) orderItems = arr; } catch(e){} }
    }
    function saveCart(){ localStorage.setItem('arumeeCart', JSON.stringify(orderItems)); }
    function updateCartDisplay(){
      loadCart();
      const cartCount = document.getElementById('cartCount');
      const navCartCount = document.getElementById('navCartCount');
      const cartContent = document.getElementById('cartContent');
      const cartFooter = document.getElementById('cartFooter');
      const cartTotal = document.getElementById('cartTotal');
      const cartTab = document.getElementById('cartTab');
      cartCount.textContent = orderItems.length;
      if(navCartCount) navCartCount.textContent = orderItems.length;
      // Toggle body class so mobile cart button only appears when items exist
      document.body.classList.toggle('has-cart-items', orderItems.length > 0);
      if(cartTab){
        if(orderItems.length === 0 && window.matchMedia('(min-width:769px)').matches){
          cartTab.classList.add('hidden');
        } else {
          cartTab.classList.remove('hidden');
        }
      }
      if(!orderItems.length){ cartContent.innerHTML='<p class="empty-cart">Your cart is empty</p>'; cartFooter.style.display='none'; return; }
      let html=''; let grand=0;
      orderItems.forEach((item,i)=>{
        const lineTotal = item.total || (item.price*item.qty);
        grand += lineTotal;
        html += '<div class="cart-item">'
          + '<div class="cart-item-info">'
            + '<div class="cart-item-name">'+escapeHtml(item.productName || item.originalName || 'Item')+'</div>'
            + '<div class="cart-item-details">‚Çπ'+item.price+' √ó '+item.qty+'</div>'
            + '<div class="cart-item-price">‚Çπ'+lineTotal+'</div>'
          + '</div>'
          + '<div class="cart-item-controls">'
            + '<div class="cart-stepper">'
              + '<button class="qty-btn-cart" data-index="'+i+'" data-action="dec" aria-label="Decrease quantity">‚àí</button>'
              + '<input type="number" value="'+item.qty+'" min="1" max="10" readonly />'
              + '<button class="qty-btn-cart" data-index="'+i+'" data-action="inc" aria-label="Increase quantity">+</button>'
            + '</div>'
            + '<button class="cart-item-remove" data-index="'+i+'" title="Remove">Remove</button>'
          + '</div>'
        + '</div>';
      });
      cartContent.innerHTML = html;
      cartTotal.textContent = '‚Çπ'+grand;
      cartFooter.style.display='flex';
    }
    function changeQty(i,d){ if(i<0||i>=orderItems.length) return; const it=orderItems[i]; const q=Math.max(1,Math.min(10,it.qty+d)); if(q!==it.qty){ it.qty=q; it.total=it.price*q; saveCart(); updateCartDisplay(); } }
    function removeItem(i){ if(i<0||i>=orderItems.length) return; orderItems.splice(i,1); saveCart(); updateCartDisplay(); }
    window.clearSubCart = function(){ orderItems=[]; saveCart(); updateCartDisplay(); };
    window.proceedToOrder = function(){ 
      if(!orderItems.length){ return; } 
      toggleCart(); 
      // Navigate to Our Oils page with order hash and trigger scroll
      window.location.href='index.html#order';
      // Store flag in sessionStorage to trigger scroll on the target page
      sessionStorage.setItem('scrollToOrder', 'true');
    };
    function escapeHtml(str){ return String(str).replace(/[&<>"]/g,s=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[s])); }
  /* Removed legacy subCartOverlay helpers (openSubCart/closeSubCart/goToOrderPage) */
    // Event delegation for cart quantity and remove buttons
    document.addEventListener('click', function(e){
      const target = e.target;
      if(target.classList && target.classList.contains('qty-btn-cart')){
        const index = parseInt(target.dataset.index, 10);
        const action = target.dataset.action;
        if(!isNaN(index) && action){
          changeQty(index, action === 'inc' ? 1 : -1);
        }
        e.stopPropagation();
        return;
      }
      if(target.classList && target.classList.contains('cart-item-remove')){
        const index = parseInt(target.dataset.index, 10);
        if(!isNaN(index)){
          removeItem(index);
        }
        e.stopPropagation();
        return;
      }
    });
    // Open via cart tab
    document.getElementById('cartTab').addEventListener('click', toggleCart);
    // Click outside cart to close (robust ‚Äì ignores any interactive cart element clicks)
    document.addEventListener('click', function(e){
      const panel = document.getElementById('cartDropdown');
      if(!panel || !panel.classList.contains('open')) return; // not open, ignore
      const tab = document.getElementById('cartTab');
      const backdrop = document.getElementById('cartBackdrop');
      const t = e.target;
      // If clicking backdrop, allow toggle (acts like close button)
      if(t === backdrop){ toggleCart(); return; }
      // If click is inside panel or tab button, do nothing
      if(panel.contains(t) || tab.contains(t)) return;
      // Extra guard: if somehow the event target is a descendant via closest lookups
      if(t.closest && (t.closest('.cart-item') || t.closest('.cart-stepper') || t.closest('.cart-actions'))) return;
      // Otherwise it's an outside click
      toggleCart();
    });
    window.addEventListener('storage', function(e){ if(e.key==='arumeeCart'){ updateCartDisplay(); }});
    // Initial load
    updateCartDisplay();
    console.log('Benefits page script loaded. toggleCart is:', typeof window.toggleCart);
  </script>
</body>
</html>
